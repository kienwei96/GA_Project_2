(this.webpackJsonpcontractorapp=this.webpackJsonpcontractorapp||[]).push([[40],{1474:function(t,e,n){"use strict";n.r(e),n.d(e,"loadGLTFMesh",(function(){return k}));var r=n(18),c=n(10),o=n.n(c),a=n(16),u=n(50),i=n(75),s=n(315),l=n(12),b=n(345),f=n(1092),j=n(112),p=n(1183),O=n(1286),d=n(1288),m=n(1287),v=n(1234),g=n(1129),x=n(1145),h=n(1355),w=n(1377),y=n(1175),C=n(1356),B=n(1371),A=n(1357),M=n(1318),T=n(1358),q=n(1159),F=n(1245),S=n(1244);function k(t,e,n){return E.apply(this,arguments)}function E(){return(E=Object(a.a)(o.a.mark((function t(e,n,c){var a,u,i,s,b,f,j,p,O,d,m,g,x,h,w,A,M;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new C.a(J(c)),t.next=3,Object(B.a)(a,n,c,!0);case 3:u=t.sent.model,i=u.lods.shift(),s=new Map,b=new Map,u.textures.forEach((function(t,e){return s.set(e,I(t))})),u.materials.forEach((function(t,e){return b.set(e,L(t,s))})),f=z(i),j=Object(r.a)(f.parts);try{for(j.s();!(p=j.n()).done;)O=p.value,N(f,O,b)}catch(o){j.e(o)}finally{j.f()}return d=f.vertexAttributes,m=d.position,g=d.normal,x=d.tangent,h=d.color,w=d.texCoord0,A={position:m.typedBuffer,normal:Object(l.j)(g)?g.typedBuffer:null,tangent:Object(l.j)(x)?x.typedBuffer:null,uv:Object(l.j)(w)?w.typedBuffer:null,color:Object(l.j)(h)?h.typedBuffer:null},M=Object(y.c)(A,e,c),t.abrupt("return",{transform:M.transform,components:f.components,spatialReference:e.spatialReference,vertexAttributes:new v.c({position:M.vertexAttributes.position,normal:M.vertexAttributes.normal,tangent:M.vertexAttributes.tangent,color:A.color,uv:A.uv})});case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function J(t){return null!=t&&t.resolveFile?{busy:!1,request:function(){var e=Object(a.a)(o.a.mark((function e(n,r,c){var a,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.resolveFile(n),u="image"===r?"image":"binary"===r?"array-buffer":"json",e.next=3,Object(i.default)(a,{responseType:u,signal:Object(l.j)(c)?c.signal:null});case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()}:null}function R(t,e){if(Object(l.i)(t))return"-";var n=t.typedBuffer;return"".concat(Object(s.a)(e,n.buffer,(function(){return e.size})),"/").concat(n.byteOffset,"/").concat(n.byteLength)}function z(t){var e,n=0,c={color:!1,tangent:!1,normal:!1,texCoord0:!1},o=new Map,a=new Map,u=[],i=Object(r.a)(t.parts);try{var b=function(){var t=e.value,r=t.attributes,i=r.position,b=r.normal,f=r.color,j=r.tangent,p=r.texCoord0,O="\n      ".concat(R(i,o),"/\n      ").concat(R(b,o),"/\n      ").concat(R(f,o),"/\n      ").concat(R(j,o),"/\n      ").concat(R(p,o),"/\n      ").concat(function(t){return Object(l.j)(t)?t.toString():"-"}(t.transform),"\n    "),d=!1,m=Object(s.a)(a,O,(function(){return d=!0,{start:n,length:i.count}}));d&&(n+=i.count),b&&(c.normal=!0),f&&(c.color=!0),j&&(c.tangent=!0),p&&(c.texCoord0=!0),u.push({gltf:t,writeVertices:d,region:m})};for(i.s();!(e=i.n()).done;)b()}catch(f){i.e(f)}finally{i.f()}return{vertexAttributes:{position:Object(w.a)(g.v,n),normal:c.normal?Object(w.a)(g.u,n):null,tangent:c.tangent?Object(w.a)(g.C,n):null,color:c.color?Object(w.a)(g.J,n):null,texCoord0:c.texCoord0?Object(w.a)(g.m,n):null},parts:u,components:[]}}function I(t){return new m.a({data:t.data,wrap:D(t.parameters.wrap)})}function L(t,e){var n,r=new u.a(function(t,e){return Object(p.c)(H(t[0]),H(t[1]),H(t[2]),e)}(t.color,t.opacity)),c=t.emissiveFactor?new u.a((n=t.emissiveFactor,Object(j.g)(H(n[0]),H(n[1]),H(n[2])))):null;return new d.a({color:r,colorTexture:Object(l.q)(Object(l.b)(t.textureColor,(function(t){return e.get(t)}))),normalTexture:Object(l.q)(Object(l.b)(t.textureNormal,(function(t){return e.get(t)}))),emissiveColor:c,emissiveTexture:Object(l.q)(Object(l.b)(t.textureEmissive,(function(t){return e.get(t)}))),occlusionTexture:Object(l.q)(Object(l.b)(t.textureOcclusion,(function(t){return e.get(t)}))),alphaMode:V(t.alphaMode),alphaCutoff:t.alphaCutoff,doubleSided:t.doubleSided,metallic:t.metallicFactor,roughness:t.roughnessFactor,metallicRoughnessTexture:Object(l.q)(Object(l.b)(t.textureMetallicRoughness,(function(t){return e.get(t)})))})}function N(t,e,n){e.writeVertices&&function(t,e){var n=t.vertexAttributes,r=n.position,c=n.normal,o=n.tangent,a=n.color,u=n.texCoord0,i=e.region.start,s=e.gltf,j=s.attributes,p=s.transform,O=j.position.count;if(Object(x.e)(r.slice(i,O),j.position,p),Object(l.j)(j.normal)&&Object(l.j)(c)){var d=Object(b.a)(Object(f.b)(),p);Object(x.a)(c.slice(i,O),j.normal,d)}else Object(l.j)(c)&&Object(q.b)(c,0,0,1,{dstIndex:i,count:O});if(Object(l.j)(j.tangent)&&Object(l.j)(o)){var m=Object(b.a)(Object(f.b)(),p);Object(h.c)(o.slice(i,O),j.tangent,m)}else Object(l.j)(o)&&Object(F.b)(o,0,0,1,1,{dstIndex:i,count:O});if(Object(l.j)(j.texCoord0)&&Object(l.j)(u)?Object(S.b)(u.slice(i,O),j.texCoord0):Object(l.j)(u)&&Object(S.a)(u,0,0,{dstIndex:i,count:O}),Object(l.j)(j.color)&&Object(l.j)(a)){var v=j.color,w=a.slice(i,O);if(4===v.elementCount)v instanceof g.C?Object(h.b)(w,v,255):v instanceof g.J?Object(F.a)(w,v):v instanceof g.H&&Object(h.a)(w,v,8);else{Object(F.b)(w,255,255,255,255);var y=g.B.fromTypedArray(w.typedBuffer,w.typedBufferStride);v instanceof g.u?Object(x.d)(y,v,255):v instanceof g.B?Object(q.a)(y,v):v instanceof g.z&&Object(x.b)(y,v,8)}}else Object(l.j)(a)&&Object(F.b)(a.slice(i,O),255,255,255,255)}(t,e);var r=e.gltf,c=function(t,e){switch(e){case 4:return Object(A.c)(t,M.d);case 5:return Object(A.b)(t);case 6:return Object(A.a)(t)}}(r.indices||r.attributes.position.count,r.primitiveType),o=e.region.start;if(o)for(var a=0;a<c.length;a++)c[a]+=o;t.components.push(new O.a({faces:c,material:n.get(r.material),trustSourceNormals:!0}))}function V(t){switch(t){case"OPAQUE":return"opaque";case"MASK":return"mask";case"BLEND":return"blend"}}function D(t){return{horizontal:G(t.s),vertical:G(t.t)}}function G(t){switch(t){case 33071:return"clamp";case 33648:return"mirror";case 10497:return"repeat"}}function H(t){return 255*Math.pow(t,1/T.a)}}}]);
//# sourceMappingURL=40.e3e7d0d3.chunk.js.map